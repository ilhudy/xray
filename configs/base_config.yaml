# ============================================
# âš™ï¸ ê¸°ë³¸ ì„¤ì • íŒŒì¼ (Base Config)
# ============================================
# ì´ íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ ì‹¤í—˜ë³„ ì„¤ì • íŒŒì¼ì„ ë§Œë“œì„¸ìš”.
# ì˜ˆ: exp01_loss_experiment.yaml, exp02_augmentation.yaml

# ğŸ“ ì‹¤í—˜ ì •ë³´
experiment:
  name: "baseline"                    # ì‹¤í—˜ ì´ë¦„ (ì €ì¥ í´ë”ëª…ìœ¼ë¡œ ì‚¬ìš©)
  description: "Baseline FCN ResNet50"  # ì‹¤í—˜ ì„¤ëª…
  author: "gh"                 # ì‹¤í—˜ì ì´ë¦„

# ğŸ“‚ ë°ì´í„° ê²½ë¡œ
data:
  train_image_root: "data/train/DCM"      # í•™ìŠµ ì´ë¯¸ì§€ ê²½ë¡œ
  train_label_root: "data/train/outputs_json"  # í•™ìŠµ ë¼ë²¨ ê²½ë¡œ
  test_image_root: "data/test/DCM"        # í…ŒìŠ¤íŠ¸ ì´ë¯¸ì§€ ê²½ë¡œ

# ğŸ·ï¸ í´ë˜ìŠ¤ ì •ë³´
classes:
  - 'finger-1'
  - 'finger-2'
  - 'finger-3'
  - 'finger-4'
  - 'finger-5'
  - 'finger-6'
  - 'finger-7'
  - 'finger-8'
  - 'finger-9'
  - 'finger-10'
  - 'finger-11'
  - 'finger-12'
  - 'finger-13'
  - 'finger-14'
  - 'finger-15'
  - 'finger-16'
  - 'finger-17'
  - 'finger-18'
  - 'finger-19'
  - 'Trapezium'
  - 'Trapezoid'
  - 'Capitate'
  - 'Hamate'
  - 'Scaphoid'
  - 'Lunate'
  - 'Triquetrum'
  - 'Pisiform'
  - 'Radius'
  - 'Ulna'

# ğŸ—ï¸ ëª¨ë¸ ì„¤ì •
model:
  name: "fcn_resnet50"               # ëª¨ë¸ ì´ë¦„ (fcn_resnet50, deeplabv3_resnet101 ë“±)
  pretrained: true                    # ì‚¬ì „í•™ìŠµ ê°€ì¤‘ì¹˜ ì‚¬ìš© ì—¬ë¶€

# ğŸ“ ì´ë¯¸ì§€ í¬ê¸°
image:
  size: 512                           # í•™ìŠµ ì´ë¯¸ì§€ í¬ê¸° (512x512)
  original_size: 2048                 # ì›ë³¸ ì´ë¯¸ì§€ í¬ê¸° (ì¶”ë¡ ì‹œ ë³µì›ìš©)

# ğŸ“‰ Loss ì„¤ì •
loss:
  name: "bce"                         # Loss í•¨ìˆ˜ (bce, dice, bce_dice, focal, tversky)
  # BCE + Dice ì¡°í•© ì‚¬ìš©ì‹œ
  # bce_weight: 0.5
  # dice_weight: 0.5
  # Focal Loss ì‚¬ìš©ì‹œ
  # alpha: 0.25
  # gamma: 2.0

# ğŸ“ í•™ìŠµ ì„¤ì •
training:
  epochs: 50                          # ì´ ì—í­ ìˆ˜
  batch_size: 8                       # ë°°ì¹˜ í¬ê¸°
  learning_rate: 0.0001               # í•™ìŠµë¥ 
  weight_decay: 0.000001              # ê°€ì¤‘ì¹˜ ê°ì‡ 
  optimizer: "adam"                   # ì˜µí‹°ë§ˆì´ì € (adam, adamw, sgd)
  scheduler: null                     # ìŠ¤ì¼€ì¤„ëŸ¬ (null, cosine, step)
  
  # ê²€ì¦ ì„¤ì •
  val_every: 5                        # ëª‡ ì—í­ë§ˆë‹¤ ê²€ì¦í• ì§€
  
  # DataLoader ì„¤ì •
  num_workers: 4                      # ë°ì´í„° ë¡œë”© ì›Œì»¤ ìˆ˜
  
  # K-Fold ì„¤ì •
  n_splits: 5                         # K-Fold ë¶„í•  ìˆ˜
  fold: 0                             # ì‚¬ìš©í•  fold ë²ˆí˜¸

# ğŸ² ì‹œë“œ ì„¤ì •
seed: 42                              # ì¬í˜„ì„±ì„ ìœ„í•œ ì‹œë“œ

# ğŸ“Š WandB ì„¤ì •
wandb:
  enabled: true                       # wandb ì‚¬ìš© ì—¬ë¶€ (falseë¡œ ë„ë©´ ë¡œê¹… ì•ˆí•¨)
  entity: "let_cv_03"                 # wandb íŒ€/entity ì´ë¦„
  project: "segmentation"             # wandb í”„ë¡œì íŠ¸ ì´ë¦„
  name: "gh_baseline_model"           # ì‹¤í—˜ ì´ë¦„ (ì´ë‹ˆì…œ_ëª¨ë¸_ì •ë³´ í˜•ì‹ ê¶Œì¥)
                                      # ì˜ˆ: gh_fcn_resnet50_epoch50, jh_deeplabv3_bce_dice
  tags: []                            # íƒœê·¸ (ì„ íƒì‚¬í•­): ["baseline", "fcn", "bce"]
  notes: ""                           # ì‹¤í—˜ ë©”ëª¨ (ì„ íƒì‚¬í•­)
  num_vis_samples: 4                  # validationì‹œ ì‹œê°í™”í•  ìƒ˜í”Œ ìˆ˜ (0ì´ë©´ ì‹œê°í™” ì•ˆí•¨)

# ğŸ’¾ ì €ì¥ ì„¤ì •
save:
  dir: "saved_models"                 # ëª¨ë¸ ì €ì¥ ë””ë ‰í† ë¦¬
  model_name: "best_model.pt"         # ì €ì¥í•  ëª¨ë¸ íŒŒì¼ëª…

# ğŸ”® ì¶”ë¡  ì„¤ì •
inference:
  threshold: 0.5                      # ì´ì§„í™” ì„ê³„ê°’
  batch_size: 2                       # ì¶”ë¡  ë°°ì¹˜ í¬ê¸°
  output_csv: "output.csv"            # ê²°ê³¼ CSV íŒŒì¼ëª…

# ğŸ”„ Augmentation ì„¤ì •
augmentation:
  # í•™ìŠµì‹œ ì ìš©í•  augmentation
  train:
    resize: 512
    horizontal_flip: false            # X-rayëŠ” ì¢Œìš° ëŒ€ì¹­ì´ ì˜ë¯¸ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜
    vertical_flip: false
    rotate: false
    rotate_limit: 15
    brightness_contrast: false
    elastic_transform: false
    grid_distortion: false
    
  # ê²€ì¦/í…ŒìŠ¤íŠ¸ì‹œ ì ìš©í•  augmentation
  valid:
    resize: 512

